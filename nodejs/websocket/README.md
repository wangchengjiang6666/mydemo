# websocket

> html5 新增的一个特性。他能帮我们实现 http 双向通信。

单向通信
服务端必须先接受到客户端的请求，才能给客户端回消息。

基于 webscoket 实现的功能有哪些：

1. 聊天室
2. 股票交易网站
3. 需要实时更新数据的。。。。

以前实现：

1. 张三、李四、王五，都加入了聊天室
2. 每个人都与聊天室的服务器做一个 轮询请求 。（setInterval）询问服务器有没有新的消息
3. 张三向服务器发了一个消息。（hello, 大家好）
4. 服务器等待下一次的 李四、王五的请求过来，接着把 hello, 大家好，响应给李四、王五。

基于 websocket

1. 张三、李四、王五，都加入了聊天室
2. 这三个人都与服务器建立起了 双向的通信连接。
3. 张三。发了个消息
4. 服务器接收到张三的消息之后，主动把消息转给了 李四、王五

## 实现一个 webscoket 的聊天室

1. 需要有服务端。使用 nodejs 的 第三方模块 ws 来实现 服务端的代码
2. 需要有客户端。使用 浏览器 html5 网页来实现。就 ok。。
